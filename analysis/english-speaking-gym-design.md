# EnglishSpeakingGym 統合教材設計書

作成日: 2025年6月29日
対象学年: 中学1年生
統合対象: english-speaking-practice, pronunciation-practice

## 1. 概要

EnglishSpeakingGymは、既存の2つの英語教材を統合し、発音から会話まで総合的に学習できる統合型英語学習教材です。音素レベルの発音練習から実践的な会話練習まで、段階的に英語スピーキング能力を向上させることを目的としています。

### 統合の目的
- **機能の重複排除**: 両教材で重複している発音ガイド機能を一元化
- **学習フローの改善**: 発音→単語→フレーズ→会話の自然な流れを構築
- **保守性の向上**: コード共通化により保守対象を削減
- **ユーザー体験の向上**: 1つの教材で発音から会話まで完結

## 2. モジュール構成

### 2.1 基礎発音モジュール（Phonetics Module）
旧PronunciationPracticeの音素練習機能を継承・拡張

#### 主要機能
- **音素練習**
  - 母音（短母音・長母音・二重母音）
  - 子音（有声音・無声音・摩擦音等）
  - 日本語にない音の重点練習（th, r/l, v/b等）
- **口形ガイド**
  - アニメーション付き口の形表示
  - 舌の位置の3D表示
  - 日本語との比較表示
- **音声評価**
  - Web Speech APIによる認識（オプション）
  - 視覚的フィードバック
  - 改善ポイントの提示

### 2.2 単語練習モジュール（Word Practice Module）
両教材の単語関連機能を統合・強化

#### 主要機能
- **単語発音練習**
  - 中学1年レベルの基本単語
  - 音節分解表示
  - アクセント位置の視覚化
- **スペリング連携**
  - 発音記号との対応
  - フォニックスルールの説明
  - よくある間違いパターン

### 2.3 フレーズ練習モジュール（Phrase Practice Module）
新規追加 - 単語から文への橋渡し

#### 主要機能
- **基本フレーズ練習**
  - 日常よく使うフレーズ
  - イントネーションパターン
  - リンキング（音の連結）練習
- **文法連携**
  - 基本文型との対応
  - 語順の視覚化

### 2.4 会話シミュレーションモジュール（Conversation Module）
旧EnglishSpeakingPracticeの対話機能を継承・拡張

#### 主要機能
- **シナリオベース対話**
  - 日常会話シナリオ
  - 学校生活シナリオ
  - 買い物・旅行シナリオ
- **インタラクティブ練習**
  - 選択式応答
  - 並び替え式応答
  - 自由入力式（上級）
- **リアルタイムフィードバック**
  - 文法的正確性
  - 場面に応じた適切性
  - より自然な表現の提案

### 2.5 統合進捗管理モジュール（Progress Tracker Module）
新規追加 - 全モジュールの学習進捗を一元管理

#### 主要機能
- **スキルマップ**
  - 各音素の習得度
  - 語彙力レベル
  - 会話力評価
- **学習パス提案**
  - 弱点に基づく練習提案
  - 段階的な難易度調整
- **成果の可視化**
  - バッジシステム
  - 達成度グラフ
  - 学習時間統計

## 3. 技術アーキテクチャ

### 3.1 ディレクトリ構造
```
src/materials/junior-high/grade1/english/EnglishSpeakingGym/
├── index.tsx                      # エントリーポイント
├── EnglishSpeakingGym.tsx        # メインコンポーネント
├── README.md                      # ドキュメント
├── components/
│   ├── common/                    # 共通コンポーネント
│   │   ├── PronunciationGuide.tsx
│   │   ├── AudioPlayer.tsx
│   │   └── ProgressBar.tsx
│   ├── navigation/                # ナビゲーション
│   │   ├── ModuleSelector.tsx
│   │   └── LearningPath.tsx
│   └── modules/                   # 各モジュール
│       ├── PhoncticsModule/
│       ├── WordPracticeModule/
│       ├── PhrasePracticeModule/
│       ├── ConversationModule/
│       └── ProgressModule/
├── hooks/
│   ├── useSpeechRecognition.ts
│   ├── useProgress.ts
│   └── useAudioPlayback.ts
├── data/
│   ├── phonemes.ts
│   ├── vocabulary.ts
│   ├── phrases.ts
│   └── scenarios.ts
├── types/
│   ├── common.ts
│   └── modules.ts
└── utils/
    ├── audioUtils.ts
    ├── scoringUtils.ts
    └── progressUtils.ts
```

### 3.2 状態管理
- **Zustand**を使用したグローバル状態管理
- モジュール間でのデータ共有
- 学習履歴の永続化（localStorage）

### 3.3 共通コンポーネント
両教材から抽出した共通機能をコンポーネント化

#### PronunciationGuide
- 発音記号表示
- カタカナヒント（オプション）
- 音声再生機能

#### ProgressIndicator
- 視覚的な進捗表示
- アニメーション付き

#### FeedbackSystem
- 正解/不正解の表示
- 詳細な解説
- 改善提案

## 4. 実装計画

### Phase 1: 基盤構築（Week 1）
1. **プロジェクト構造の設定**
   - ディレクトリ作成
   - 基本的なコンポーネント配置
   - 型定義ファイルの作成

2. **共通コンポーネントの移植**
   - PronunciationGuideの統合
   - AudioPlayerの実装
   - 基本的なUIコンポーネント

3. **ナビゲーションシステム**
   - モジュール選択画面
   - 学習パスの表示

### Phase 2: モジュール実装（Week 2-3）
1. **基礎発音モジュール**
   - PronunciationPracticeから機能移植
   - UIの統一化
   - 新機能の追加

2. **会話シミュレーションモジュール**
   - EnglishSpeakingPracticeから機能移植
   - 発音ガイドとの連携

3. **単語・フレーズモジュール**
   - 新規実装
   - 既存データの活用

### Phase 3: 統合と最適化（Week 4）
1. **モジュール間連携**
   - データの共有
   - 学習フローの最適化

2. **進捗管理システム**
   - 統合的な進捗追跡
   - レポート機能

3. **テストと調整**
   - 動作確認
   - パフォーマンス最適化

## 5. 移行戦略

### 5.1 段階的移行
1. **並行運用期間**（2週間）
   - 新旧両方の教材を利用可能
   - ユーザーフィードバック収集

2. **リダイレクト設定**
   - 旧教材へのアクセスを新教材へ誘導
   - 学習履歴の移行サポート

3. **完全移行**
   - 旧教材の無効化
   - コードの削除

### 5.2 データ移行
- localStorage のデータ形式変換
- 学習進捗の引き継ぎ
- ユーザー設定の維持

## 6. 期待される効果

### 6.1 ユーザーメリット
- **統合的な学習体験**: 発音から会話まで一貫した学習
- **効率的な学習パス**: 適切な順序での段階的学習
- **豊富な練習機会**: 多様なモジュールで飽きない学習

### 6.2 開発メリット
- **コード削減**: 約30%のコード重複を解消
- **保守性向上**: 1つの教材として管理
- **拡張性**: モジュラー設計により機能追加が容易

### 6.3 教育的メリット
- **体系的な学習**: 基礎から応用への明確なパス
- **個別最適化**: 苦手分野の重点練習
- **実践的スキル**: 会話で使える英語力の育成

## 7. リスクと対策

### 7.1 技術的リスク
- **複雑性の増加**
  - 対策: モジュラー設計で複雑性を分散
  - 段階的な実装で問題を早期発見

### 7.2 ユーザビリティリスク
- **学習者の混乱**
  - 対策: 直感的なUI設計
  - チュートリアルの充実

### 7.3 パフォーマンスリスク
- **初期読み込み時間**
  - 対策: 動的インポート
  - 必要なモジュールのみ読み込み

## 8. 成功指標

- **コード削減率**: 30%以上
- **ユーザー満足度**: 85%以上（アンケート）
- **学習継続率**: 70%以上（1ヶ月後）
- **パフォーマンス**: 初期読み込み3秒以内

## 9. 今後の拡張可能性

- **AI音声評価**: より高度な発音評価
- **カスタムシナリオ**: 教師が作成できる対話シナリオ
- **マルチプレイヤー**: 他の学習者との会話練習
- **VR/AR対応**: より没入感のある学習体験