# 数の合成・分解ブロック

## 概要

小学1年生向けの「10までの数の合成・分解」を学習する教材です。
カラフルな数ブロックをドラッグ&ドロップして、目標の数を作ることで、数の概念を視覚的に理解できます。

## 学習目標

- 10までの数の合成（足し算の基礎）を理解する
- 数ブロックの操作を通じて、具体物から抽象的な数概念への移行を促す
- ドラッグ&ドロップの操作で能動的な学習体験を提供

## 機能

### 基本機能
- 1-10の数ブロックをドラッグして移動
- 目標の数字を作るために青い箱にブロックを配置
- 箱内のブロックの合計が自動計算される
- 目標数字が達成されると次の問題に自動進行

### インタラクション
- **ドラッグ&ドロップ**: 数ブロックを自由に移動
- **スナップ機能**: ブロックが10ピクセル単位でスナップして整列
- **視覚的フィードバック**: 箱内のブロックは枠線でハイライト

### 学習サポート
- 現在の合計値をリアルタイム表示
- 成功時のお祝いメッセージ
- 成功回数のカウント
- ヘルプメッセージによる操作説明

## 技術的特徴

### 使用技術
- React + TypeScript
- Konva.js (Canvas描画)
- MUI (UI コンポーネント)
- Framer Motion (アニメーション効果)

### アクセシビリティ対応
- 大きなタッチターゲット（60x60px）
- 高コントラストな色使い
- わかりやすい視覚的フィードバック
- 音声読み上げ対応（将来実装予定）

### レスポンシブ対応
- タブレット・PC・スマートフォンに対応
- Retinaディスプレイ対応
- タッチとマウス操作の両方をサポート

## 教育的配慮

### 小学1年生の発達段階に配慮
- 具体操作期に適した直感的な操作
- 色分けによる視覚的な理解促進
- 即座のフィードバックで達成感を提供

### 学習理論の適用
- 構成主義的学習: 子ども自身がブロックを操作して数の概念を構築
- 発見学習: 試行錯誤を通じて数の関係性を発見
- マルチモーダル学習: 視覚・触覚を組み合わせた学習体験

## カスタマイズ可能な要素

### 難易度調整
- 目標数字の範囲（現在は1-10）
- ブロックの数と配置
- スナップグリッドのサイズ

### 見た目の調整
- ブロックの色とサイズ
- 箱のデザイン
- 背景色とテーマ

## 今後の拡張予定

1. **音声機能**: 数字の読み上げとお祝いの音
2. **アニメーション強化**: ブロック移動時のスムーズなアニメーション
3. **レベル機能**: 段階的な難易度設定
4. **記録機能**: 学習履歴と分析データの保存
5. **多言語対応**: 英語版の提供

## データ仕様

### 学習データ
```typescript
interface LearningData {
  attempts: number;        // 試行回数
  successCount: number;    // 成功回数
  timeSpent: number;       // 学習時間（秒）
  averageTime: number;     // 平均問題解決時間
  errorPatterns: string[]; // よくある間違いパターン
}
```

### 進捗計算
- 成功回数 / 5 × 100% = 進捗率
- 5回成功で教材完了とみなす